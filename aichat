<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Chat & Calculator</title>
<!-- Font Awesome for icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" crossorigin="anonymous"/>
<!-- Material Icons -->
<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons"/>
<style>
  body {
    margin:0; font-family:Roboto,sans-serif; background:#FAFAFA; color:#212121;
  }
  .main-wrapper {
    display: flex;
    justify-content: center;
    align-items: flex-start;
    gap: 40px;
    padding: 32px 0; /* Add space at top/bottom */
    flex-wrap: wrap;
    min-height: 100vh;
    box-sizing: border-box;
  }

  /* Chat Styles */
  .chat-section {
    background: #fff;
    border-radius: 8px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.07);
    border: 1px solid #E0E0E0;
    width: 360px;
    display: flex;
    flex-direction: column;
    max-height: 80vh;
  }
  .header {
    background:#6200EA;
    color:#fff;
    padding:16px;
    text-align:center;
    font-size:22px;
    border-radius:8px 8px 0 0;
  }
  .container {
    flex: 1;
    display: flex;
    flex-direction: column;
    height: 100%;
  }
  .chatbox {
    flex: 1;
    padding: 16px;
    overflow-y: auto;
    min-height: 120px;
    max-height: 44vh;
    display: flex;
    flex-direction: column;
    gap: 8px;
    background: #FAFAFA;
  }
  .chat-message {
    padding: 10px 15px;
    border-radius: 20px;
    max-width: 80%;
    word-wrap: break-word;
  }
  .user-message {
    align-self: flex-end;
    background-color: #6200EA;
    color: #fff;
    border-top-left-radius: 0;
  }
  .assistant-message {
    align-self: flex-start;
    background-color: #E0E0E0;
    color: #212121;
    border-top-right-radius: 0;
  }
  .input-area {
    padding: 10px;
    border-top: 1px solid #E0E0E0;
    background:#f5f5f5;
    display:flex;
    align-items:center;
  }
  .input-area input {
    flex:1; padding:10px; border:1px solid #E0E0E0; border-radius:20px; margin-right:10px;
  }
  .input-area button {
    padding:10px 15px; border:none; border-radius:20px; background:#6200EA; color:#fff; cursor:pointer;
    display:flex; align-items:center;
  }
  .input-area button:hover { background:#3700B3; }
  .input-area .material-icons { margin-right:5px; }

  /* Calculator Styles */
  .calculator {
    background: #fff;
    border-radius: 8px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.07);
    border: 1px solid #E0E0E0;
    padding: 16px 24px 24px 24px;
    width: 310px;
    min-width: 230px;
    display: flex;
    flex-direction: column;
    align-items: center;
    max-height: 448px;
  }
  .calc-title {
    margin-bottom: 10px;
    font-size: 20px;
    color: #6200EA;
  }
  .display {
    width: 95%;
    height: 40px;
    margin-bottom: 10px;
    padding: 5px;
    font-size: 18px;
    text-align: right;
    border: 1px solid #ccc;
    border-radius: 3px;
    background: #FAFAFA;
  }
  .buttons {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    grid-gap: 7px;
    width: 100%;
  }
  .buttons button {
    padding: 15px;
    font-size: 16px;
    cursor: pointer;
    border: 1px solid #ccc;
    border-radius: 5px;
    background: #E0E0E0;
    transition: background 0.2s;
  }
  .buttons button:hover {
    background: #b5b5b5;
  }
  @media (max-width: 950px) {
    .main-wrapper { flex-direction: column; align-items: center; gap: 26px; }
  }
</style>
</head>
<body>
<div class="main-wrapper">
  <!-- Chat Section -->
  <div class="chat-section">
    <div class="header">Chat Assistant</div>
    <div class="container">
      <div id="chatbox" class="chatbox"></div>
      <div class="input-area">
        <input id="chatInput" type="text" placeholder="Type your message" />
        <button id="sendButton"><span class="material-icons">send</span>Send</button>
      </div>
    </div>
  </div>
  <!-- Calculator Section -->
  <div class="calculator">
    <div class="calc-title">Calculator</div>
    <input type="text" id="calc_display" class="display" readonly>
    <div class="buttons">
      <button onclick="Calculator.append('7')">7</button>
      <button onclick="Calculator.append('8')">8</button>
      <button onclick="Calculator.append('9')">9</button>
      <button onclick="Calculator.append('/')">/</button>
      <button onclick="Calculator.append('4')">4</button>
      <button onclick="Calculator.append('5')">5</button>
      <button onclick="Calculator.append('6')">6</button>
      <button onclick="Calculator.append('*')">*</button>
      <button onclick="Calculator.append('1')">1</button>
      <button onclick="Calculator.append('2')">2</button>
      <button onclick="Calculator.append('3')">3</button>
      <button onclick="Calculator.append('-')">-</button>
      <button onclick="Calculator.append('0')">0</button>
      <button onclick="Calculator.append('.')">.</button>
      <button onclick="Calculator.calculate()">=</button>
      <button onclick="Calculator.append('+')">+</button>
      <button onclick="Calculator.clear()">C</button>
    </div>
  </div>
</div>
<script>
// ---- Chat Code ----
const API_URL = 'https://backend.buildpicoapps.com/aero/run/llm-api?pk=v1-Z0FBQUFBQm5HUEtMSjJkakVjcF9IQ0M0VFhRQ0FmSnNDSHNYTlJSblE0UXo1Q3RBcjFPcl9YYy1OZUhteDZWekxHdWRLM1M1alNZTkJMWEhNOWd4S1NPSDBTWC12M0U2UGc9PQ=='
const STORAGE_KEY = 'multiChat';
let store = [];
let currentChatIndex = 0;

const chatbox = document.getElementById('chatbox');
const chatInput = document.getElementById('chatInput');
const sendButton = document.getElementById('sendButton');

function loadStore() {
  try {
    store = JSON.parse(localStorage.getItem(STORAGE_KEY)) || [];
  } catch { store = []; }
}
function saveStore() {
  localStorage.setItem(STORAGE_KEY, JSON.stringify(store));
}
function getCurrentChat() {
  if (!store.length) store.push({ id: Date.now(), messages: [] });
  return store[currentChatIndex];
}
function renderChatbox() {
  chatbox.innerHTML = '';
  let conv = getCurrentChat();
  conv.messages.forEach(msg => {
    const div = document.createElement('div');
    div.className = 'chat-message ' + (msg.isUser ? 'user-message' : 'assistant-message');
    div.innerText = msg.text;
    chatbox.appendChild(div);
  });
  chatbox.scrollTop = chatbox.scrollHeight;
}
async function handleSend() {
  const text = chatInput.value.trim();
  if (!text) return;
  chatInput.value = '';
  let conv = getCurrentChat();
  conv.messages.push({ text, isUser: true });
  saveStore();
  renderChatbox();
  if (text.toLowerCase().includes('who made you')) {
    conv.messages.push({ text: "I was built using OpenAI and Connor, and don't need to pay.", isUser: false });
    saveStore();
    renderChatbox();
    return;
  }
  // API call for other messages
  try {
    const allMessages = conv.messages.map(m => m.isUser ? `User: ${m.text}` : `Assistant: ${m.text}`).join('\n');
    const response = await fetch(API_URL, {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ prompt: allMessages })
    });
    const data = await response.json();
    if (data.status === 'success') {
      conv.messages.push({ text: data.text, isUser: false });
    } else {
      conv.messages.push({ text: 'An error occurred. Please try again.', isUser: false });
    }
  } catch(e) {
    conv.messages.push({ text: 'Error: ' + e.message, isUser: false });
  }
  saveStore();
  renderChatbox();
}
sendButton.onclick = handleSend;
chatInput.onkeydown = e => { if (e.key === 'Enter' && !e.shiftKey) { e.preventDefault(); handleSend(); } };
window.onload = function() { loadStore(); renderChatbox() };

// ---- Calculator Code ----
const Calculator = {
  append: function(val) {
    document.getElementById('calc_display').value += val;
  },
  clear: function() {
    document.getElementById('calc_display').value = '';
  },
  calculate: function() {
    try {
      let v = document.getElementById('calc_display').value;
      document.getElementById('calc_display').value = eval(v);
    } catch (e) {
      document.getElementById('calc_display').value = 'Error';
    }
  }
};
</script>
</body>
</html>
Made by connor :)
